# 💡 클린 코드 & 시큐어 코딩이란?
---
# ✅ 클린코드

## 클린 코드란?

- 군더더기 없이 깔끔한 코드
- 기능을 수행하는 코드를 최대한 작은 라인으로 구현
- 직접적이고 에러 처리가 잘 되어 있으며 하나의 역할을 수행한다
- 단순하고 직접적이게 함으로써 원작자의 의도를 숨기지 않음

> 클린코드의 가장 중요한 요소 중 하나는 가독성
즉, 모든 팀원이 이해하기 쉽도록 작성된 코드
> 

### 가독성이 중요한 이유?

- 일반적으로 기존 코드를 변경하고자 할 때, 해석하는 시간과 수정하는 비율이 10:1
    - 해석이 어려운 코드는 그만큼 분석에 소요되는 시간이 길다
- 대부분의 결함은 기존 코드를 수정하는 동안 발행
    - 이해하기 쉬운 코드는 오류의 위험성을 최소화 한다

## 클린코드를 작성하기 위한 원칙

### 일반적인 원칙

- **Follow Standard Convention: Coding** 표준, 아키텍처 표준 및 설계 가이드를 준수하라
- **Keep It Simple, Stupid(KISS)**: 단순한 것이 효율적이며, 복잡함을 최소화 하라
- **Boy Scout Rule**: 캠핑장을 떠나기 전에 원래보다 깨끗하게 해야한다
    - 참조되거나 수정되는 코드는 원래보다 깨끗하게 해야함
- **Root Cause Analysis**: 항상 근본적인 원인을 찾아라. 그렇지 않으면 반복될 것이다
- **Do Not Multiple Languages in One Source File:** 하나의 파일은 하나의 언어로 작성하라

### SOLID 원칙

- 단일 책임의 원칙(SRP): 하나의 클래스는 하나의 책임만 가져야 한다
- 개방 폐쇄의 원칙(OCP): 클래스는 확장에 대해 열려있어야 하고, 변경에 대해서는 닫혀 있어야 한다
- 리스코브 치환의 원칙(LSP): 파생 클래스의 메소드는 기반 클래스의 메서드를 대체하여 사용될 수 있어야 한다
- 인터페이스 분리의 원칙(ISP): 클라이언트가 사용하지 않는 메소드에 의존하지 않아야 한다
- 의존성 역전의 원칙(DIP): 추상화된 것은 구체적인 것에 의존하면 안된다
    - 자주 변경되는 것은 구체적인 것에 의존하지 말고 추상화 된 것을 참조

참고

[클린코드란 무엇인가?](https://www.samsungsds.com/kr/insights/cleancode-0823.html?referrer=https://talkwithcode.tistory.com/73)

---

# ✅ 시큐어 코딩

> 소프트웨어 개발시 안전한 코드를 제작하는 것
> 
- 공격에 대한 방어 뿐만 아니라, 개발자의 실수나 코드상의 논리적 오류로 인해 발생할 수 있는 문제점을 사전에 차단 및 대응하는 내용도 포함되어 있다
- 즉 소프트웨어의 가용성과 신뢰성이 위협받는 취역점은 모두 보안의 대상으로 정의한 것

### 소프트웨어 보안 취약점이 발생하는 경우

- 소프트웨어 요구사항 정의 시에 보안 요구사항을 고려하지 않음
- 소프트웨어가 논리적인 오류를 포함한 채로 설계되고 개발됨
- 기술적 취약점을 보완하지 않은 코딩 규칙을 적용하여 코딩함
- 발견된 취약점에 대해 적절한 관리 또는 패치를 제때 수행하지 않음

### 시큐어 코딩의 국내외 배경

- 미국의 경우 국토안보부를 중심으로 시큐어 코딩을 포함한 SW 개발 전과정에 대한 보안 연구를 활발히 진행중
- 국내의 경우, 2009년부터 전자정부서비스 개발단계에서 SW 보안점을 진단하여 제거하는 시큐어 코딩 관련 연구를 진행하면서 2012년까지 전자정부지원사업 등을 대상으로 SW 보안 약점 시범 진단을 수행
- 2012년 6월 부터는 행정안전부 '정보시스템 구축ㆍ운영 지침이 개정ㆍ고시 됨에 따라 전자정부서비스 개발시 적용토록 의무화

## 보안 약점 항목

### 입력 데이터 검증 및 표현

- 프로그램 입력값에 대한 검증 누락 또는 부적적한 검증, 데이터 형식을 잘못 지정하여 발생하는 보안약점
- 폼 양식의 입력란에 입력되는 데이터로 인해 발생하는 문제를 예방하기 위해 점검하는 보안 항목
- 사용자가 비정상적인 데이터를 입력하여 시스템에 손상을 주거나 정보를 수정 및 탈취하지 못하도록 방지하는 것
- 주로 SQL 인젝션(SQL Injection) 공격을 막기 위한 코딩

### 보안 기능

- 보안기능: 인증, 접근제어, 기밀성, 암호화, 권한관리 등
- 보안 기능을 적절하지 않게 구현시 발생할 수 있는 보안 약점
- 주로 암호와 같이 중요한 정보를 암호화 없이 저장하거나 프로그램 내부에 하드 코딩되어 노출의 위험성이 있는 경우, 인증과 권한 관리를 부적절하게 구현할 시 발생하는 문제

### 에러 처리

- 에러를 처리하지 않거나, 불충분하게 처리하여 에러 정보에 중요 정보가 포함될 때 발생하는 보안 약점
- 종종 개발자가 디버깅의 편의성을 위해 에러 메시지를 화면에 출력하는 경우가 있는데, . 에러 메시지는 시스템과 관련된 중요 정보를 포함하는 경우가 많아 공격자의 악성 행위를 도울 수 있다
- 오류가 발생할 상황을 적절하게 검사하지 않았거나 잘못된 처리를 한 경우도 에러 처리 항목에 포함
- 에러 처리는 가능한 최소한의 정보만을 담고 있어야 하며, 광범위한 예외 처리보다는 구체적인 예외 처리를 통해 보안 공격을 사전에 방어하는 것이 중요

### 코드 오류

- 타입 변환 오류, 자원의 부적절한 반환 등과 같이 개발자가 범하는 코딩 오류로 인해 유발되는 보안 약점
- 주로 형(Type)변환 오류, 자원 반환, NullPointer 참조가 이에 해당

### 캡슐화

- 중요한 데이터 또는 기능성을 불충분하게 캡슐화 하였을 때, 인가되지 않은 사용자에 데이터 누출이 가능해지는 보안 약점
- 부적절한 캡슐화는 정보 은닉의 기능을 잃어버린다

### API 오용

- 의도되사용에 반하는 방법으로 API를 사용하거나, 보안에 취약한 API를 사용하여 발생할 수 있는 보안 약점
- 보안에 취약한 API 사용은 피해야 하며 DNS가 아닌 IP를 확인하는 것이 중요

참고

[﻿시큐어 코딩의 의미와 실천 방안: ①시큐어 코딩이란? | 요즘IT](https://yozm.wishket.com/magazine/detail/1822/)

[人Co BLOG :: 정보보안은 개발단계에서부터! 시큐어코딩(Secure Coding)](https://www.insilicogen.com/blog/383)
