# TDD(Test Driven Development)란 무엇이며 어떠한 장점이 있는가?

# TDD(Test Driven Development)란?
## TDD란 무엇인가?
- TDD란 Test Driven Development의 약자로 ‘테스트 주도 개발’이라고 한다.
- TDD는 개발 방법론 중 하나로 테스트가 전체 개발을 주도해 나가는 것을 말한다. 즉, 비지니스 코드를 먼저 작성하는 것이 아닌 테스트가 중심이 되어 전체 개발 방향을 이끌고 나가는 것이다.
- Test-Driven Development(TDD)는 매우 짧은 개발 사이클의 반복에 의존하는 소프트웨어 개발 프로세스이다. 우선 개발자는 요구되는 새로운 기능에 대한 자동화된 테스트 케이스를 작성하고 해당 테스트를 통과하는 가장 간단한 코드를 작성한다. 일단 테스트 통과하는 코드를 작성하고 상황에 맞게 리팩토링하는 과정을 거치는 것이다. 말 그대로 테스트가 코드 작성을 주도하는 개발 방식인 것이다.

기존의 비지니스 코드 중심의 개발과 테스트 주도 개발의 차이점은 다음 그림과 같다.
![Untitled](http://clipsoft.co.kr/wp/wp-content/uploads/2021/05/ka1-748x585.png)

TDD는 작가가 책을 쓰는 과정과 유사하다.
```
책을 쓸 때는 목차를 처음 구성한다. 
이후 각 목차에 맞는 내용을 구상하여 초안을 작성하고 고쳐 쓰기를 반복한다.
 
이 과정을 TDD에 비유하면 다음과 같다.
목차 구성 : 테스트 코드 작성
초안 작성 : 코드 개발 
고쳐 쓰기 : 코드 수정(리팩토링)
```
반복적인 검토와 고쳐 쓰기를 통해서 좋은 글이 완성되는 것처럼 소프트웨어도 반복적인 테스트와 수정을 통해서 고품질의 소프트웨어를 만들 수 있다.

## TDD를 왜 해야 할까?
애자일에서 설명한 것과 같이 불확실성이 높을 때 ‘피드백’과 ‘협력’이 중요하기 때문에 피드백과 협력이 자주 이루어진다면 더 좋은 결과가 나올 수 있다.

## TDD는 어떤 상황에서 해야 할까?
만약 어떤 부분에 대한 코딩을 여러 번 해 봤고 결과가 어떻게 나올지 뻔하다면 TDD를 하지 않아도 된다. 또한 TDD를 했을 때 얻는 것이 적다면 TDD를 하지 않아도 된다. 그렇다면 TDD는 어떤 상황에서 해야 할까?

1. 처음 해 보는 프로그램 주제    
    : 나에 대한 불확실성이 높은 경우    
2. 고객의 요구 조건이 바뀔 수 있는 프로젝트    
    : 외부적인 불확실성이 높은 경우    
3. 개발하는 중에 코드를 많이 바꿔야 된다고 생각하는 경우
4. 내가 개발하고 나서 이 코드를 누가 유지보수할지 모르는 경우    
    : 외부적인 불확실성이 즉, 불확실성이 높을 때 TDD를 하면 된다.
    

# TDD의 장단점
## TDD의 장점
### 코드를 작성하기 전 설계에 대해 구체적으로 작성이 가능
: 설계는 개발에 있어 매우 중요하며 잘못된 설계는 잘못된 동작을 만들어 내며 이를 고치기 위한 시간을 소모하는 것은 비용이 발생하는 것이다.
때문에 경험 많은 개발자 분들이 늘 코드를 작성하기 위해 무엇을 만들지 생각을 하고 만들라고 조언해 주시고는 한다.
TDD는 이러한 설계를 강제로 하게 만들며 보다 구체적으로 동작에 대해 서술함으로써 내가 무엇을 만들어야 하는지 어떤 기능을 만들어야 하는지 명확하게 파악할 수 있다.

### 보다 튼튼한 객체 지향적인 코드 생산
: TDD는 코드의 재사용 보장을 명시하므로 TDD를 통한 소프트웨어 개발 시 기능별 철저한 모듈화가 이뤄진다. 
이는 종속성과 의존성이 낮은 모듈로 조합된 소프트웨어 개발을 가능하게 하며 필요에 따라 모듈을 추가하거나 제거해도 소프트웨어 전체 구조에 영향을 미치지 않게 된다.

### 재설계 시간의 단축
: 테스트 코드를 먼저 작성하기 때문에 개발자가 지금 무엇을 해야 하는지 분명히 정의하고 개발을 시작하게 된다. 또한 테스트 시나리오를 작성하면서 다양한 예외 사항에 대해 생각해 볼 수 있다. 
이는 개발 진행 중 소프트웨어의 전반적인 설계가 변경되는 일을 방지할 수 있다.

### 디버깅 시간의 단축
: 이는 유닛 테스팅을 하는 이점이기도 하다. 
예를 들면 사용자의 데이터가 잘못 나온다면 DB의 문제인지, 비즈니스 레이어의 문제인지, UI의 문제인지, 실제 모든 레이어들을 전부 디버깅해야 하지만, TDD의 경우 자동화된 유닛 테스팅을 전제하므로 특정 버그를 손쉽게 찾아낼 수 있다.

### 테스트 문서의 대체 가능
: 주로 SI 프로젝트 진행 과정에서 어떤 요소들이 테스트 되었는지 테스트 정의서를 만든다. 이것은 단순 통합 테스트 문서에 지나지 않는다. 
하지만 TDD를 하게 될 경우 테스팅을 자동화시킴과 동시에 보다 정확한 테스트 근거를 산출할 수 있다.

* SI : System Integration

### 추가 구현의 용이함
: 개발이 완료된 소프트웨어에 어떤 기능을 추가할 때 가장 우려되는 점은 해당 기능이 기존 코드에 어떤 영향을 미칠지 알지 못한다는 것이다. 
하지만 TDD의 경우 자동화된 유닛 테스팅을 전제하므로 테스트 기간을 획기적으로 단축시킬 수 있다.

## TDD의 단점
### 생산성 저하
: 개발 속도가 느려진다고 생각하는 사람이 많기 때문에 TDD에 대해 반신반의한다. 왜냐하면 처음부터 2 개의 코드를 짜야 하고, 중간중간 테스트를 하면서 고쳐 나가야 하기 때문이다. TDD 방식의 개발 시간은 일반적인 개발 방식에 비해 대략 10~30% 정도로 늘어난다.
: SI 프로젝트에서는 소프트웨어의 품질보다 납기일 준수가 훨씬 중요하기 때문에 TDD 방식을 잘 사용하지 않는다.

### 100%의 안정성을 보장해 주지는 않는다.
: TDD는 어디까지 개발자가 설계한 예상 가능한 예측 값과 환경을 기반으로 한다.
예를 들어 외부 의존성이 가지고 있는 오류, 네트워크의 문제, 하드웨어의 문제 등 설계한 요소 외에 대한 부분은 리스크를 가져갈 수밖에 없으며 이는 테스트 코드에 대해 100% 안전하다고 여길 수 없음을 의미한다.


# 참고
- [TDD란 무엇이며 왜 필요한가?. TDD에 대해 알아보는 것과 동시에 ‘TDD가 왜 필요한가?’ 물음에… | by Seong-Am Kim | Medium](https://jay-flow.medium.com/tdd%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EB%A9%B0-%EC%99%9C-%ED%95%84%EC%9A%94%ED%95%9C%EA%B0%80-18cb5979629c)
- [TDD 란 무엇이며 어떠한 장점이 있는가 (tistory.com)](https://osy0907.tistory.com/61)
- [CLIPSOFT](http://clipsoft.co.kr/wp/blog/tddtest-driven-development-%EB%B0%A9%EB%B2%95%EB%A1%A0/)

