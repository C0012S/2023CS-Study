# 좋은 코드란 무엇인가?

# 좋은 코드란?
일반적으로 좋은 코드란 가독성이 좋아 이해하기 쉽고, 변경하기 쉬우며, 재사용하기 쉽고, 효율적인 코드를 이야기한다.
소프트웨어 개발은 단 한번에 개발에서 끝나는 것이 아니라 이후 수많은 변경이 필요하기 때문에 기능 개발만큼 중요한 것이 바로 유지보수다. 따라서 코드 다시 읽었을때 이해하기 쉽고, 나중에 변경하기 쉬워야 한다.

## 여러 가지 정의가 존재
- 가독성 좋은 코드
- 중복이 없는 코드
- 테스트에 용이한 코드
- 일관성 있는 코드
- 확장성이 좋은 코드

## 가독성 좋은 코드
셀 수도 없이 많은 오류는 물론 유지보수를 해야하기 때문에 코드는 언제 누가 봐도 이해하기 쉽도록 간결하고 가독성이 좋은 코드가 좋다.

### 가독성의 두 가지 종류
- 표현적 가독성(Legibility)
    : 눈에 잘 들어오고 읽기 편한 코드
    
- 기능적 가독성(Readability)    
    : 함수, 변수, 클래스 등이 어떤 역할을 가지고 어떤 동작을 하며 어떤 관계를 맺고 있는지 직관적으로 파악 가능한 코드
    
### 주석을 사용하면 되지 않을까?
단순하게 생각해서 이해하기 쉽게 만들기 위해 기능들 마다 주석을 달아두면 좋지 않을까?
분명 주석을 다는 것은 좋은 습관이다. 하지만 주석을 사용할 때 주의해야 할 점이 있다.

- 주석은 관리하기 어렵다.    
    : 주석은 기본적으로 메타데이터이기 때문에 주석의 내용과 함수의 실제 동작이 일치한다고 보장할 수 없다.    
    수시로 변하는 요구사항을 반영하느라 코드가 수정될 때 주석이 함께 수정되지 않을 수도 있다.    
    오히려 한두 가지의 잘못된 주석으로 코드를 이해하는데 혼란을 야기할 수 있다.    
- 나한테만 쉬운 주석    
    : 모든 개발자가 동일한 배경지식을 가진 것은 아니다. 각자 다른 환경에서 코드를 작성하고 읽기 때문에 주석에도 한계가 존재한다.
    
## 중복이 없는 코드
A와 B에서 동일한 로직을 수행하는 코드를 중복 코드라고 한다.
중복 코드를 추출하여 재사용 가능하게 만드는 것이 중요하다. 그러나 중복 코드를 추출하고 관리하는 데 어려운 점이 있다.

- 중복 코드를 수정하는 건 어렵다.    
    : A라는 코드 조각을 동일한 로직을 수행하여 별도로 추출했지만, 시간이 지나고 A와 조금 다른 A* 역할로 수정이 필요해졌다.    
    그때는 중복이었던 코드 조각을 필요에 의해 추출했지만, 지금은 아니라서 다시 합치거나 수정하고 있다.    
    보통 하는 일은 동일하지만, 그 목적이 다른 코드를 추출했을 때 많이 발생하는데 이것은 변경 사항을 반영하는 데 비용이 들어가게 한다.
    
## 테스트에 용이한 코드
테스트 코드를 작성해 두면 심리적 안정감도 생기고 리팩토링에 자신감도 생긴다.

## 일관성 있는 코드
최소한의 가독성을 보장하는 방법은 일관성 있는 코드를 작성하는 것이다. 일관성은 합의된 규칙을 기반으로 만들어지며 이 합의된 규칙은 개개인에게 동일하게 다가간다.
코드의 일관성이 지켜진다면 예측이 가능하다. 예측이 가능하다는 것은 어느 곳에 어떤 코드가 위치하는지 예상할 수 있다는 것이다. 프로젝트 팀원 간의 그라운드 룰(Ground Rule)이 필요한 이유이다.

### Naming
- 변수명 네이밍도 중요하지만 작성되는 수많은 함수의 네이밍에도 규칙이 있으면 일관성을 지킬 수 있다.
### Directory
- 디렉터리 구조는 위에서 말한 ‘어디에 분리할지’와 관련이 있다.
- 디렉터리 구조와 아키텍처는 비교 대상이 아니다. (디렉터리 구조와 아키텍처는 같은 것이 아니다.)    
    일관된 디렉터리 구조는 전체적인 구조를 파악하는 데 큰 도움이 되고 컴포넌트 간의 관계를 파악하는데에도 도움을 준다.   
- 페이지마다 디렉터리를 분리하면 좋다.

## 확장성이 좋은 코드
확장이 어려운 코드는 내부에서 많은 변경이 발생하며 이것은 코드를 읽기 어렵게 만든다. 자연스럽게 생산성도 떨어진다.
확장에 너무 많이 열려있으면 내부 API를 수정하기 어려워지는 문제도 발생할 수 있다. 라이브러리의 경우 확장성이 높으면 많은 use-case를 대응할 수 있겠지만 내부적으로 큰 변화가 있을 때, Breaking Change가 생길 가능성이 높아진다. 이 또한 적정선을 찾아가는 것이 무엇보다 중요하다.

* Breaking Change : 기존 어플리케이션을 구성하고 있는 모듈 등을 새로운 버전으로 import해 주거나, 추가로 다른 모듈을 추가해 줘야 하거나 제거해야 하는 변화를 의미한다.


# 좋은 코드 작성법
## 코딩 컨벤션을 지킨다.
- 코딩 컨벤션이란 간단하게 말하면 코드를 만들때 지켜야하는 코딩 스타일이라고 할 수 있다.
- 한 프로젝트의 코딩 컨벤션이 통일되어야 코드의 가독성이 좋아진다.
- 사용하는 프로그래밍 언어나 프로젝트에 따라 사용하는 코딩 컨벤션이 정해져 있다.
- 변수 이름, 함수 이름 규칙, tab 간격 규칙, Enter 규칙 등이 포함된다.

## 좋은 이름을 짓는다.
- 변수와 함수, 그리고 클래스의 이름은 그것들이 어떠한 역할을 하는지 나타내는 굉장히 중요한 요소다.
- 가장 먼저 누구나 이해할 수 있는 이름으로 이름을 짓는 것이 중요하다.
- 요즘은 자동완성도 잘 되어 있기 때문에, 이름의 길이를 줄이는 것보다는 이름이 명확한 뜻을 가지고 있는 것이 더 중요하다.

### 전 세계 공통적으로 사용되는 이름짓기 규칙
- 함수는 일반적으로 무엇인가를 하는 것이기 때문에 동사로 이름을 짓는다.
- 변수나 클래스는 명사로 이름을 짓는 것이 일반적이다.
- 예외로 boolean 변수는 isSomething 형태를 많이 사용하고 있다.

## 파악하기 쉬운 프로젝트 구조를 만든다.
프로젝트를 처음 다운로드하면 프로젝트 폴더 구조를 보고, 어디에 어떠한 코드가 있는지 대략적으로 파악한다. 만약에 프로젝트 폴더가 이해할 수 없는 구조라면 코드를 파악하는 데 엄청난 시간이 걸릴 것이다.

### 프로젝트 구조
- 보통은 프레임워크에 따라 자주 쓰는 프로젝트 구조가 있다.
- 프레임워크에 상관없이 사용하는 패턴
    - 기술적인 용도에 따라 폴더를 구분하는 방법
    - 도메인에 따라 폴더를 분리하는 방법
- 아키텍처에 따라 Layer를 구분하고 내부에서 도메인별로 분리하는 방법도 많이 쓰인다.

## 추상 레벨을 일정 수준으로 유지한다.
- 코드의 추상 레벨을 일정 수준으로 유지하는 것이 가독성에 큰 영향을 미친다. 
- 추상레벨이란 코드가 세부 정보 어디까지 보여주는지를 말한다.
- IDE에서 제공하는 Extract Method 기능을 사용하면 드래그 한 부분을 하나의 method로 빼 주기 떄문에 세부 내용을 쉽게 상위 레벨로 올릴 수 있을 것이다.

## 반복하지 않는다.(Don’t Repeat Yourself)
- DRY(Don't Repeat Yourself) 법칙은 SOLID와 함께 가장 유명한 프로그래밍 원칙 중 하나로, 반복하지 말라 즉, 똑같은 코드를 절대 Copy & Paste(반복) 하지 말라는 원칙이다.
- Extract Method 기능은 중복된 코드를 잡아주는 데 큰 역할을 할 수 있다. 
- 좋은 소프트웨어 구조를 만드는 방식으로 중복 코드를 최소화 할 수 있다.

## 추가적으로
테스트와 아키텍처, SOLID 원칙 등을 고려하여 좋은 코드를 만들 수 있다.


# 결론
- 코드 간의 의존성을 고민하자.
- 합의된 규칙으로 일관성 있게 작성하자.
- 적절하게 확장 가능하도록 설계하자.
- 어쩔 수 없는 코드는 주석과 함께 격리하자.

무엇이 좋은 코드인지에 대한 정답은 없다. 좋은 코드를 위해 항상 생각하며 코드를 작성하고 관리해야 한다.


# 참고
- [개발 초보도 바로 적용해 볼 수 있는 좋은 코드 작성법 (velog.io)](https://velog.io/@couchcoding/%EA%B0%9C%EB%B0%9C-%EC%B4%88%EB%B3%B4%EB%8F%84-%EB%B0%94%EB%A1%9C-%EC%A0%81%EC%9A%A9%ED%95%B4-%EB%B3%BC-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%A2%8B%EC%9D%80-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1%EB%B2%95)
- [좋은 코드란 무엇일까? | JBEE.io](https://jbee.io/etc/what-is-good-code/)
- [좋은 코드란? (velog.io)](https://velog.io/@khai96/%EC%A2%8B%EC%9D%80-%EC%BD%94%EB%93%9C%EB%9E%80)
