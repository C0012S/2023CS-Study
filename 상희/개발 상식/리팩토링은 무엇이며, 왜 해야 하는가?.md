# 💡 리팩토링은 무엇이며, 왜 해야 하는가?

# ✅ 리팩토링이란?
> 리팩토링(Refactoring)은 소프트웨어 공학에서 '결과의 변경 없이 코드의 구조를 재조정함'을 뜻한다.
> 

<br/>

- 주로 가독성을 높이고 유지보수를 편하게 한다.
- 버그를 없애거나 새로운 기능을 추가하는 행위는 아니다.
- 사용자가 보는 외부 화면은 그대로 두면서 내부 논리나 구조를 개선하는 유지보수 행위이다.

<br/>

## 리팩토링의 목표
리팩토링의 잠재적인 목표는 소프트웨어의 설계, 구조 및 구현을 개선하는 동시에 소프트웨어의 기능을 보존하는 것이다.  
리팩토링은 코드의 가독성을 향상시키고 복잡성을 감소시키는 효과를 가지며, 이러한 이점은 소스 코드의 유지 보수성을 개선하고 확장성을 개선하기 위해 더 단순하고, 깔끔하거나, 표현력이 뛰어난 내부 아키텍처 또는 객체 모델을 만들 수 있게 한다.  
그리고 소프트웨어 엔지니어는 더 빠르게 수행되거나 더 적은 메모리를 사용하는 프로그램을 작성해야 하는 지속적인 과제에 직면해 있기에 성능 향상이 리팩토링의 또다른 목표가 된다.

<br/>

## 쉽게 말하자면
현재 코드의 동작은 그대로 유지하면서 더 이해하기 쉽고, 생각하기 쉽고, 확장하기 쉽게끔 재구성하는 것이다.

<br/>
<br/>

# ✅ 리팩토링 목적
리팩토링의 목적은 소프트웨어를 더 이해하기 쉽고 수정하기 쉽게 만드는 것이다.  
리팩토링은 성능을 최적화시키는 것이 아니다. 코드를 신속하게 개발할 수 있게 만들어주고, 코드 품질을 좋게 만들어준다.

<br/>

> 코드가 이해하기 쉽고, 수정하기 쉽다면?  
개발 속도가 증가한다.
> 

<br/>
<br/>

# ✅ 리팩토링을 하는 이유
- 리팩토링을 하면 소프트웨어 설계가 좋아진다.
- 리팩토링을 하면 소프트웨어를 이해하기 쉬워진다.
- 리팩토링을 하면 버그를 쉽게 찾을 수 있다.
- 리팩토링을 하면 프로그래밍 속도를 높일 수 있다.

<br/>
<br/>

# ✅ 언제 리팩토링을 해야 할까?
### 1. 삼진 규칙(3번의 중복 / 3번의 같은 행위를 한다면 리팩토링을 진행하자.)
> * 3의 법칙  
처음에는 그냥 한다.    
비슷한 일을 두 번째 하게 되면 일단 계속 진행한다.  
비슷한 일을 세 번째 하게 되면 리팩토링 한다.
> 

<br/>

### 2. 기능을 추가할 때 리팩토링을 하자.
- 기능을 추가하기 쉽게 만드는 것이 리팩토링의 핵심
- 구조를 살짝 바꾸면 다른 작업하기 쉬워질 만한 부분을 찾는다.
- 기능을 추가하면서 중복 코드가 생길 만한 부분을 함수화 시킨다.

<br/>

### 3. 버그를 수정해야 할 때 리팩토링을 하라.

<br/>

### 4. 코드 검토(Code Review)를 할 때 리팩토링을 하라.
- 팀원들과의 코드 리뷰를 할때 리팩토링을 진행한다.
- 다른 사람들이 찾아준 리팩토링 포인트를 개선한다.
- 리팩토링 포인트에 대한 코드 리뷰시에는 코드에 대한 이해 후 몇 가지 개선 방향을 제시한다.
- 작성자와 리뷰자가 함께 리팩토링을 진행하면서 자연스러운 페어 프로그래밍을 진행하면 좋다.

<br/>

### 5. 코드를 이해하기 어려울 때
- 코드 수정 시 코드를 이해하기 어렵다면 이해를 위한 리팩토링을 진행한다.
- 코드만 보더라도 이해를 쉽게 할 수 있도록 변수와 함수의 이름을 변경한다.
- 코드를 이해하기 쉽게 만드는 것은 협업하기도 좋고 코드를 오래 보존할 수 있게 된다.

<br/>

### 6. 불필요한 코드를 발견했을때
- 코드가 비효율적으로 수행되는 것을 발견했을 때 리팩토링을 진행한다.
- 로직 혹은 코드가 쓸데없이 복잡하거나 불필요한 코드를 발견했다면 보이 스카웃 규칙을 떠올리자.
- 원래 하려던 작업 시간을 뺏길 수 있으니 간단한 일이라면 바로 처리하고, 시간이 좀 걸릴 것 같으면 `TODO`를 남겨 두자.

<br/>

### 7. 계획화된 리팩토링
- 수시로 진행하는 리팩토링 외에도 따로 시간을 내서 리팩토링을 진행 할 수 있다.
- 미리 새기능을 추가할 수 있도록 코드를 개선해 둔다.
- 코드가 이미 깔끔하다면 리팩토링을 하기에도 더 쉽다.

<br/>

> 언제 리팩토링을 해야 하는가? 언제나 리팩토링을 해야 한다.  
리팩토링은 수시로 진행을 해야 하며, 작업 흐름에 자연스럽게 녹아들 수 있어야 한다.  
위와 같은 상황에서 리팩토링을 하면 좋다.
> 

<br/>
<br/>

# ✅ 리팩토링을 하지 말아야 할 때?
### 굳이 지금, 수정할 필요가 없을 때
- 단순히 호출해서 사용하고 있는 코드의 경우 그냥 둔다.
- 실제 내부 동작을 이해해야 할 시점에 리팩토링 하는 것이 효과가 좋다.

<br/>

### 새로 작성하는것이 쉬울 때
- 리팩토링보다 새로 코드를 작성하는 쉬운 코드의 경우 그냥 둔다.
- 어떤 코드가 리팩토링보다 새로 만드는게 쉬운가에 대한 판단은 많은 경험이 뒷받침되어야 한다.

<br/>
<br/>

# 🗂 참고

- [Code-Refactoring(코드 리펙토링) 이란??✍✍ (velog.io)](https://velog.io/@rlrhs11/Code-Refactoring%EC%BD%94%EB%93%9C-%EB%A6%AC%ED%8E%99%ED%86%A0%EB%A7%81-%EC%9D%B4%EB%9E%80)
- [언제, 어디에 리팩토링을 해야할까 (When, Where) (taes-k.github.io)](https://taes-k.github.io/2-where-when-refactoring.html)
- [리팩터링(Refactoring)을 하는 이유 (tistory.com)](https://code-masterjung.tistory.com/93)

